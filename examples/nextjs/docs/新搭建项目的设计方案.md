对于新搭建的项目，我**强烈推荐使用 App Router**，原因如下：

## 🚀 推荐使用 App Router 的理由

### 1. **官方发展方向**
- App Router 是 Next.js 13+ 的官方推荐方案
- Pages Router 虽然仍被支持，但已进入维护模式
- 未来的新特性主要会在 App Router 中开发

### 2. **更好的开发体验**
```typescript
// App Router - 更简洁的文件结构
app/
  page.tsx          // 页面组件
  layout.tsx        // 布局组件
  loading.tsx       // 加载状态
  error.tsx         // 错误处理
```

### 3. **React 18 特性原生支持**
- **Server Components** - 默认服务端渲染，性能更优
- **Streaming** - 渐进式页面加载
- **Suspense** - 更好的异步状态管理

### 4. **更灵活的数据获取**
```typescript
// App Router - 在组件内直接 fetch
async function Page() {
  const data = await fetch('https://api.example.com')
  return <div>{data}</div>
}

// Pages Router - 需要特定的 API
export async function getServerSideProps() {
  // 更复杂的数据获取模式
}
```

### 5. **更好的布局系统**
- 嵌套布局支持
- 布局状态保持
- 更灵活的页面组织

## 💡 针对 LiFi Widget 项目的建议

基于这个项目的代码，我推荐使用 **App Router + ClientOnly 模式**：

```typescript
// 推荐的组件结构
'use client'
import { ClientOnly } from '@/components/ClientOnly'
import { LiFiWidget, WidgetSkeleton } from '@lifi/widget'

export function Widget() {
  const config = {
    appearance: 'light',
    theme: {
      container: {
        border: '1px solid rgb(234, 234, 234)',
        borderRadius: '16px',
      },
    },
  }

  return (
    <ClientOnly fallback={<WidgetSkeleton config={config} />}>
      <LiFiWidget config={config} integrator="your-app-name" />
    </ClientOnly>
  )
}
```

## ⚠️ 何时考虑 Pages Router

只有在以下情况下才考虑 Pages Router：
1. **现有项目迁移** - 已有大量 Pages Router 代码
2. **团队熟悉度** - 团队对 Pages Router 更熟悉，短期内无法学习
3. **特定需求** - 某些特定功能在 App Router 中暂不支持

## 🎯 最佳实践建议

对于新的 LiFi Widget 项目：

1. **使用 App Router** 作为主要架构
2. **配合 ClientOnly 组件** 处理第三方 Widget 的 SSR 问题
3. **使用 WidgetSkeleton** 提供更好的加载体验
4. **监听 Widget 事件** 实现更好的用户交互

总结：**选择 App Router**，它代表了 Next.js 的未来，提供更好的性能、开发体验和生态支持。这个示例项目很好地展示了如何在 App Router 中正确集成第三方组件。
