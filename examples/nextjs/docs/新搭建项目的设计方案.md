å¯¹äºæ–°æ­å»ºçš„é¡¹ç›®ï¼Œæˆ‘**å¼ºçƒˆæ¨èä½¿ç”¨ App Router**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

## ğŸš€ æ¨èä½¿ç”¨ App Router çš„ç†ç”±

### 1. **å®˜æ–¹å‘å±•æ–¹å‘**
- App Router æ˜¯ Next.js 13+ çš„å®˜æ–¹æ¨èæ–¹æ¡ˆ
- Pages Router è™½ç„¶ä»è¢«æ”¯æŒï¼Œä½†å·²è¿›å…¥ç»´æŠ¤æ¨¡å¼
- æœªæ¥çš„æ–°ç‰¹æ€§ä¸»è¦ä¼šåœ¨ App Router ä¸­å¼€å‘

### 2. **æ›´å¥½çš„å¼€å‘ä½“éªŒ**
```typescript
// App Router - æ›´ç®€æ´çš„æ–‡ä»¶ç»“æ„
app/
  page.tsx          // é¡µé¢ç»„ä»¶
  layout.tsx        // å¸ƒå±€ç»„ä»¶
  loading.tsx       // åŠ è½½çŠ¶æ€
  error.tsx         // é”™è¯¯å¤„ç†
```

### 3. **React 18 ç‰¹æ€§åŸç”Ÿæ”¯æŒ**
- **Server Components** - é»˜è®¤æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ€§èƒ½æ›´ä¼˜
- **Streaming** - æ¸è¿›å¼é¡µé¢åŠ è½½
- **Suspense** - æ›´å¥½çš„å¼‚æ­¥çŠ¶æ€ç®¡ç†

### 4. **æ›´çµæ´»çš„æ•°æ®è·å–**
```typescript
// App Router - åœ¨ç»„ä»¶å†…ç›´æ¥ fetch
async function Page() {
  const data = await fetch('https://api.example.com')
  return <div>{data}</div>
}

// Pages Router - éœ€è¦ç‰¹å®šçš„ API
export async function getServerSideProps() {
  // æ›´å¤æ‚çš„æ•°æ®è·å–æ¨¡å¼
}
```

### 5. **æ›´å¥½çš„å¸ƒå±€ç³»ç»Ÿ**
- åµŒå¥—å¸ƒå±€æ”¯æŒ
- å¸ƒå±€çŠ¶æ€ä¿æŒ
- æ›´çµæ´»çš„é¡µé¢ç»„ç»‡

## ğŸ’¡ é’ˆå¯¹ LiFi Widget é¡¹ç›®çš„å»ºè®®

åŸºäºè¿™ä¸ªé¡¹ç›®çš„ä»£ç ï¼Œæˆ‘æ¨èä½¿ç”¨ **App Router + ClientOnly æ¨¡å¼**ï¼š

```typescript
// æ¨èçš„ç»„ä»¶ç»“æ„
'use client'
import { ClientOnly } from '@/components/ClientOnly'
import { LiFiWidget, WidgetSkeleton } from '@lifi/widget'

export function Widget() {
  const config = {
    appearance: 'light',
    theme: {
      container: {
        border: '1px solid rgb(234, 234, 234)',
        borderRadius: '16px',
      },
    },
  }

  return (
    <ClientOnly fallback={<WidgetSkeleton config={config} />}>
      <LiFiWidget config={config} integrator="your-app-name" />
    </ClientOnly>
  )
}
```

## âš ï¸ ä½•æ—¶è€ƒè™‘ Pages Router

åªæœ‰åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ‰è€ƒè™‘ Pages Routerï¼š
1. **ç°æœ‰é¡¹ç›®è¿ç§»** - å·²æœ‰å¤§é‡ Pages Router ä»£ç 
2. **å›¢é˜Ÿç†Ÿæ‚‰åº¦** - å›¢é˜Ÿå¯¹ Pages Router æ›´ç†Ÿæ‚‰ï¼ŒçŸ­æœŸå†…æ— æ³•å­¦ä¹ 
3. **ç‰¹å®šéœ€æ±‚** - æŸäº›ç‰¹å®šåŠŸèƒ½åœ¨ App Router ä¸­æš‚ä¸æ”¯æŒ

## ğŸ¯ æœ€ä½³å®è·µå»ºè®®

å¯¹äºæ–°çš„ LiFi Widget é¡¹ç›®ï¼š

1. **ä½¿ç”¨ App Router** ä½œä¸ºä¸»è¦æ¶æ„
2. **é…åˆ ClientOnly ç»„ä»¶** å¤„ç†ç¬¬ä¸‰æ–¹ Widget çš„ SSR é—®é¢˜
3. **ä½¿ç”¨ WidgetSkeleton** æä¾›æ›´å¥½çš„åŠ è½½ä½“éªŒ
4. **ç›‘å¬ Widget äº‹ä»¶** å®ç°æ›´å¥½çš„ç”¨æˆ·äº¤äº’

æ€»ç»“ï¼š**é€‰æ‹© App Router**ï¼Œå®ƒä»£è¡¨äº† Next.js çš„æœªæ¥ï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½ã€å¼€å‘ä½“éªŒå’Œç”Ÿæ€æ”¯æŒã€‚è¿™ä¸ªç¤ºä¾‹é¡¹ç›®å¾ˆå¥½åœ°å±•ç¤ºäº†å¦‚ä½•åœ¨ App Router ä¸­æ­£ç¡®é›†æˆç¬¬ä¸‰æ–¹ç»„ä»¶ã€‚
